<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Tests for getOccurrences</title>
    <link rel="stylesheet" type="text/css" href="../jsunit/css/jsUnitStyle.css"/>
    <script type="text/javascript" src="../jsunit/app/jsUnitCore.js"></script>
    <script type="text/javascript" src="../../../main/resources/jquery-1.4.1.js"></script>     
    <script type="text/javascript">
		function prevAllString(element) {
			var text = new Array();
			element = element.previousSibling;
			while (element != null) {
				text.push(element.nodeValue != null ? element.nodeValue : element.innerHTML);
				element = element.previousSibling;
			}
			text.reverse();
			return text.join("");			
		}

    
        function testPrevAll() {
            var notecontent = jQuery(".notecontent").get(0);
            var text = prevAllString(notecontent);
            assertEquals("start This is a paragraph", text.trim().replace(/\s+/g, " "));
        }
        
    </script>

</head>

<body>
    <h1>Test material</h1>
    
    <h2>Tests for prevAll</h2>
    <p id="prev">
        <span>start</span> 
        This is a paragraph <span class="notecontent">this is an element inside</span> with sentences! 
        <span>end</span>
    </p>
</body>
</html>