<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Tests for getOccurrences</title>
    <link rel="stylesheet" type="text/css" href="../jsunit/css/jsUnitStyle.css"/>
    <script type="text/javascript" src="../jsunit/app/jsUnitCore.js"></script>
    <script type="text/javascript" src="../../../main/resources/jquery-1.4.1.js"></script>     
    <script type="text/javascript" src="../../java/fi/finlit/edith/ui/pages/AnnotateTests.js"></script>
    <script type="text/javascript">

        function testGetOccurrenceInString() {
            assertEquals(1, getOccurrenceInString("Hello World", "World", 6));
            assertEquals(1, getOccurrenceInString("Hello World", "World", 5));
            assertEquals(3, getOccurrenceInString("Hello World Wor World", "Wor", 15));
            assertEquals(0, getOccurrenceInString("Hello World", "Mary", 6));
        }
        
        function testGetOccurrences(){
            assertEquals(0, getOccurrences("Hello World", "Mary"));
            assertEquals(3, getOccurrences("Hello World", "l"));
            assertEquals(1, getOccurrences("Hello World", "Hello"));
            assertEquals(1, getOccurrences("Hello World", "World"));
            assertEquals(1, getOccurrences(" Hello World", "World"));
            assertEquals(1, getOccurrences("Hello World", " World"));
        }
         
        function testGetOccurrenceInElement(){
            var child = jQuery(":contains('text')").last();
            var text = child.text();
            
            assertEquals(1, getOccurrenceInElement(child, text.indexOf("text"), "text"));
            assertEquals(2, getOccurrenceInElement(child, text.lastIndexOf("text"), "text"));                      
        }
        
        function testIsInverseSelection(){
            // TODO
        }
        
    </script>

</head>

<body>
    <p>Tests for getOccurrences</p>
    <p id="paragraph">This is a paragraph with some text. The word text has multiple occurrences in this paragraph.</p>
    
</body>
</html>