<html t:type="layout"  
      xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd"
      xmlns:p="tapestry:parameter">
      
    <p:title>${message:documents}</p:title>  
    
    <h2>${message:documents}</h2>

	<t:form t:id="documentsForm">

	    <t:grid source="documents" row="document" exclude="id,title,svnPath,description" add="document,views,null,null1,null2,selection,deletion">
	        <p:documentCell>
	          ${document.title}
	        </p:documentCell>
	        <p:viewsCell>
	          <a t:type="pageLink" t:page="document/annotatePage" t:context="${document.id}">${message:annotate-document}</a>
	        </p:viewsCell>
	        <p:nullCell>
	            <a t:type="pageLink" t:page="document/viewPage" t:context="${document.id}">${message:view-document}</a>
	        </p:nullCell>
	        <p:null1Cell>
	            <a t:type="pageLink" t:page="document/printPage" t:context="${document.id}">${message:print-document}</a>
	        </p:null1Cell>
	        <p:null2Cell>
                <a t:type="pageLink" t:page="document/publishPage" t:context="${document.id}">${message:publishVersion}</a>
            </p:null2Cell>
			<p:selectionCell>
				<t:checkbox value="documentSelected" />			
			</p:selectionCell>
			
			<p:deletionCell>
				<t:checkbox value="selectedForDeletion" />
			</p:deletionCell>
			
	        <p:empty>
	            <p>${message:no-documents}</p>
	        </p:empty>
	    </t:grid>
		
		<t:if test="documentsNotEmpty">		
			<t:submit value="${message:select}" />		
			<t:submit t:id="removeSelected" value="${message:remove-selected}"/>		
		</t:if>
		
	</t:form>

    <p:rightPanel>
        <p>${message:add-document}</p>   
        <t:document.upload/>
    </p:rightPanel>

	<script type="text/javascript">
	
	</script>

</html>
