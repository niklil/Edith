<html t:type="layout" xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd" xmlns:p="tapestry:parameter">

    <p:title>${message:dictionarysearch}</p:title>

    <t:form t:id="search">
        <t:errors />
        <t:textfield value="searchTerm" />
        <input type="submit" value="${message:search}" />
    </t:form>

    <t:if test="terms">
        <t:grid source="terms" row="term" rowsPerPage="20" 
            include="basicForm,meaning" add="appearances">
            <p:appearancesCell>
                <t:loop source="term.notes" value="note">
                    <div>${note.latestRevision.lemma} (${note.latestRevision.longText})</div>
                </t:loop>
            </p:appearancesCell>
            <p:empty>
                <p>${message:no-results}</p>
            </p:empty>
        </t:grid>
        <p:else>
            <p>${message:no-results}</p>
        </p:else>
    </t:if>

    <p:breadcrumbs>
        <a t:type="pageLink" t:page="index">${message:frontpage}</a>
        &gt; ${message:dictionarysearch}
    </p:breadcrumbs>

    <p:leftPanel>
        <t:dashboard />
    </p:leftPanel>

    <p:rightPanel>
    
    </p:rightPanel>

</html>
