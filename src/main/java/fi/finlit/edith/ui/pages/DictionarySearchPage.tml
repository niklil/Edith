<html t:type="layout" xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd" xmlns:p="tapestry:parameter">

    <p:title>${message:dictionarysearch}</p:title>

    <t:form t:id="search">
        <t:errors />
        <t:textfield value="searchTerm" />
        <input type="submit" value="${message:search}" />
    </t:form>

    <t:if test="terms">
        <t:grid source="terms" row="term" rowsPerPage="20" 
            include="basicForm,meaning" add="appearances">
            <p:appearancesCell>
            	<t:if test="term.undeletedNotes">
                	<t:loop source="term.undeletedNotes" value="note">
                    	<div><em>${note.latestRevision.lemma}</em> (${note.latestRevision.longText})<t:note.metadata note="note.latestRevision"/></div>
                	</t:loop>
                	<p:else>
                		<strong>${message:all-revisions-removed}</strong>
                	</p:else>
                </t:if>
            </p:appearancesCell>
            <p:empty>
                <p>${message:no-results}</p>
            </p:empty>
        </t:grid>
        <p:else>
            <p>${message:no-results}</p>
        </p:else>
    </t:if>

    <p:rightPanel>
    
    </p:rightPanel>

</html>
